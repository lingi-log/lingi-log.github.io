<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Template Method Pattern | Lingi04</title>
    <meta name="description" content="개발 관련 이것 저것">
    
    
    <link rel="preload" href="/assets/css/0.styles.4b6fa609.css" as="style"><link rel="preload" href="/assets/js/app.cbf5046c.js" as="script"><link rel="preload" href="/assets/js/2.2f398f54.js" as="script"><link rel="preload" href="/assets/js/68.be686ee3.js" as="script"><link rel="prefetch" href="/assets/js/10.d4a80777.js"><link rel="prefetch" href="/assets/js/11.42b53835.js"><link rel="prefetch" href="/assets/js/12.202d46c9.js"><link rel="prefetch" href="/assets/js/13.75fb7eea.js"><link rel="prefetch" href="/assets/js/14.b55cad91.js"><link rel="prefetch" href="/assets/js/15.0e36bd3d.js"><link rel="prefetch" href="/assets/js/16.444397c9.js"><link rel="prefetch" href="/assets/js/17.6d5f1186.js"><link rel="prefetch" href="/assets/js/18.c27d2f83.js"><link rel="prefetch" href="/assets/js/19.5069e2ba.js"><link rel="prefetch" href="/assets/js/20.887f805f.js"><link rel="prefetch" href="/assets/js/21.ac4d3914.js"><link rel="prefetch" href="/assets/js/22.431aeb88.js"><link rel="prefetch" href="/assets/js/23.c376cd71.js"><link rel="prefetch" href="/assets/js/24.fcbf8df3.js"><link rel="prefetch" href="/assets/js/25.67802c13.js"><link rel="prefetch" href="/assets/js/26.35ac2a96.js"><link rel="prefetch" href="/assets/js/27.12f0db9a.js"><link rel="prefetch" href="/assets/js/28.e6301139.js"><link rel="prefetch" href="/assets/js/29.41f5368b.js"><link rel="prefetch" href="/assets/js/3.87a0ff5a.js"><link rel="prefetch" href="/assets/js/30.920286bf.js"><link rel="prefetch" href="/assets/js/31.a28662b9.js"><link rel="prefetch" href="/assets/js/32.d5bc20f7.js"><link rel="prefetch" href="/assets/js/33.9fa2dacf.js"><link rel="prefetch" href="/assets/js/34.ea35f454.js"><link rel="prefetch" href="/assets/js/35.1614de93.js"><link rel="prefetch" href="/assets/js/36.ec486f92.js"><link rel="prefetch" href="/assets/js/37.a34222d2.js"><link rel="prefetch" href="/assets/js/38.aec9f681.js"><link rel="prefetch" href="/assets/js/39.4e8e7e14.js"><link rel="prefetch" href="/assets/js/4.d7ee998c.js"><link rel="prefetch" href="/assets/js/40.de5334a0.js"><link rel="prefetch" href="/assets/js/41.9f9fc22a.js"><link rel="prefetch" href="/assets/js/42.e9685a62.js"><link rel="prefetch" href="/assets/js/43.d24de225.js"><link rel="prefetch" href="/assets/js/44.ec222ebb.js"><link rel="prefetch" href="/assets/js/45.ab8896f6.js"><link rel="prefetch" href="/assets/js/46.d4ab7bcf.js"><link rel="prefetch" href="/assets/js/47.e3e75fda.js"><link rel="prefetch" href="/assets/js/48.0fef1233.js"><link rel="prefetch" href="/assets/js/49.218fda5b.js"><link rel="prefetch" href="/assets/js/5.e74b6197.js"><link rel="prefetch" href="/assets/js/50.211fc57f.js"><link rel="prefetch" href="/assets/js/51.1047f6d4.js"><link rel="prefetch" href="/assets/js/52.fd9aea38.js"><link rel="prefetch" href="/assets/js/53.46c3ef6f.js"><link rel="prefetch" href="/assets/js/54.0cbb4096.js"><link rel="prefetch" href="/assets/js/55.8ac1ae37.js"><link rel="prefetch" href="/assets/js/56.b4abce8b.js"><link rel="prefetch" href="/assets/js/57.e3054a16.js"><link rel="prefetch" href="/assets/js/58.af6a0ce1.js"><link rel="prefetch" href="/assets/js/59.37a38259.js"><link rel="prefetch" href="/assets/js/6.b4ec9f4c.js"><link rel="prefetch" href="/assets/js/60.c2219d68.js"><link rel="prefetch" href="/assets/js/61.eb15da1a.js"><link rel="prefetch" href="/assets/js/62.34196576.js"><link rel="prefetch" href="/assets/js/63.220b8f7b.js"><link rel="prefetch" href="/assets/js/64.76f9f384.js"><link rel="prefetch" href="/assets/js/65.2dc560a5.js"><link rel="prefetch" href="/assets/js/66.09fdc89b.js"><link rel="prefetch" href="/assets/js/67.893bc67a.js"><link rel="prefetch" href="/assets/js/69.7f8a9188.js"><link rel="prefetch" href="/assets/js/7.1e9a546b.js"><link rel="prefetch" href="/assets/js/70.5be336f3.js"><link rel="prefetch" href="/assets/js/71.6e1ad52f.js"><link rel="prefetch" href="/assets/js/72.2c3ce851.js"><link rel="prefetch" href="/assets/js/73.24eca150.js"><link rel="prefetch" href="/assets/js/74.7ea296eb.js"><link rel="prefetch" href="/assets/js/75.60d30dc8.js"><link rel="prefetch" href="/assets/js/8.09056a9a.js"><link rel="prefetch" href="/assets/js/9.a3851888.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4b6fa609.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/thumbnail.png" alt="Lingi04" class="logo"> <span class="site-name can-hide">Lingi04</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study/" class="nav-link router-link-active">Study</a></div><div class="nav-item"><a href="/backend/" class="nav-link">Backend</a></div><div class="nav-item"><a href="/experiences/" class="nav-link">Experiences</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study/" class="nav-link router-link-active">Study</a></div><div class="nav-item"><a href="/backend/" class="nav-link">Backend</a></div><div class="nav-item"><a href="/experiences/" class="nav-link">Experiences</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Design Pattern</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/designpattern/1_observer.html" class="sidebar-link">Observer Pattern</a></li><li><a href="/study/designpattern/2_proxy.html" class="sidebar-link">Proxy Pattern</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Algorithm</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Leet Code</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/algorithm/algorithm_leet_46-50.html" class="sidebar-link">46번 ~ 50번</a></li><li><a href="/study/algorithm/algorithm_leet_51-60.html" class="sidebar-link">51번 ~ 60번</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>깨끗한 코드</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/refactoring/1_intro.html" class="sidebar-link">INTRO</a></li><li><a href="/study/refactoring/2_목표설명.html" class="sidebar-link">목표 설명</a></li><li><a href="/study/refactoring/3_적용.html" class="sidebar-link">적용 사례</a></li><li><a href="/study/refactoring/4_적용2.html" class="sidebar-link">적용 사례 2</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>책</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>오브젝트</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/book/object/2-객체지향프로그래밍.html" class="sidebar-link">2. 객체지향 프로그래밍</a></li><li><a href="/study/book/object/3-역할_책임_협력.html" class="sidebar-link">3. 역할, 책임, 협력</a></li><li><a href="/study/book/object/4-설계_품질과_트레이드오프.html" class="sidebar-link">4. 설계 품질과 트레이드오프</a></li><li><a href="/study/book/object/5-책임_할당하기.html" class="sidebar-link">5. 책임 할당하기</a></li><li><a href="/study/book/object/6-메시지와_인터페이스.html" class="sidebar-link">6. 메시지와 인터페이스</a></li><li><a href="/study/book/object/7-객체_분해.html" class="sidebar-link">7. 객체 분해</a></li><li><a href="/study/book/object/8-의존성_관리하기.html" class="sidebar-link">8. 의존성 관리하기</a></li><li><a href="/study/book/object/9-유연한_설계.html" class="sidebar-link">9. 유연한 설계</a></li><li><a href="/study/book/object/10-상속과_코드_재사용.html" class="sidebar-link">10. 상속과 코드 재사용</a></li><li><a href="/study/book/object/11-합성과_유연한_설계.html" class="sidebar-link">11. 합성과 유연한 설계</a></li><li><a href="/study/book/object/12-다형성.html" class="sidebar-link">12. 다형성</a></li><li><a href="/study/book/object/15-디자인_패턴과_프레임워크.html" class="sidebar-link">15. 디자인 패턴과 프레임워크</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="template-method-pattern">Template Method Pattern</h1> <p>Template Method Pattern은 Super Class에 알고리즘의 뼈대를 정의하고 자식클래스에서 이를 변경하지 않고 알고리즘을 구현하도록 하는 디자인 패턴으로, Behavior Design Pattern의 한 종류 이다.</p> <h2 id="언제-쓰일까">언제 쓰일까?</h2> <p>Template Method 패턴이 필요한 경우를 예를 들어 살펴보자.</p> <p>문서 분석하는 기능을 가진 App을 만든다고 가정해보자. 처음엔 단순하게 DOC 파일을 분석할 수 있도록 구현을 했다. 하지만 다음에 CSV 파일도 처리할 수 있게 해달라는 요구사항이 왔고 CSV 파일을 분석하는 기능을 구현했다. 그런데 더 생각해보자. 나중에 얼마든지 분석할 수 있는 문서 포맷을 추가해 달라는 요구가 들어올 수 있다.</p> <p><strong>그 때마다 문서 형식별 분석기능을 새로 만들것인가?</strong></p> <p>분석기능을 수행하는 클래스들을 보면 <em>소스의 많은 부분이 비슷</em>하단것을 알 수 있다. 파일을 읽어와 텍스트를 추출하고 텍스트를 분석하여 결과물을 만들고 파일을 닫는 로직의 흐름이 거의 같기 때문이다.</p> <p>또한 분석 클래스를 사용하는 Client 입장에서도 문제가 있는건 마찬가지이다. 문서 형식에 따른 적절한 클래스를 찾기 위해 분기문을 작성해야 한다. 문서 형식의 추가 혹은 변경이 일어나면 어김없이 Client도 변경이 일어나야 한다.</p> <h2 id="template-method-패턴-사용">Template Method 패턴 사용</h2> <p>Template Method 패턴에 대해 다시 한번 살펴보자. Template Method Pattern은 Super Class에 알고리즘의 뼈대를 정의하고 자식클래스에서 이를 변경하지 않고 알고리즘을 구현하도록 하는 디자인 패턴이다. 이 패턴을 적절히 사용하면 중복 코드를 없앨 수 있으며 Client쪽 문제도 다형성을 사용해 해결할 수 있다.</p> <h2 id="구조">구조</h2> <p><img src="https://raw.githubusercontent.com/lingi-log/lingi-log/master/assets/images/study/designpattern/templatemethod_1.png" alt="templatemethod 구조"></p> <h3 id="abstract-class">Abstract Class</h3> <p>Abstract Class 에서는 알고리즘의 세부 사항을 선언한다. 그리고 template method 안에 앞서 정의한 알고리즘의 각 세부 사항을 적절히 호출해 알고리즘의 뼈대를 완성한다. 각 세부사항은 abstract 메소드 일 수도 있고 구현해놓은 메소드 일수도 있다.</p> <h3 id="concrete-class">Concrete Class</h3> <p>Abstract Class를 상속 받아 template method 제외하고 필요에 따라 메서드를 override 한다.</p> <h2 id="적용하기">적용하기</h2> <ol><li>대상 알고리즘을 여러 단계로 분리할수 있는지 알아보고, 분리할 수 있다면 공통 로직으로 추출할수 있는지 체크한다.</li> <li>Abstract 클래스를 생성하고 template method와 위에서 분리한 알고리즘의 각 단계를 구현할 메서드를 선언한다. 앞서 알아본것 처럼 공통으로 추출할수 있는 로직은 Abstract에 구현하고 아닌 로직은 추상메서드로 남겨놓는다. 필요에 따라 hook 메서드를 추가해도 된다.</li> <li>template method에 메서드를 적절한순서로 호출하여 알고리즘의 뼈대를 완성한다. 자식클래스에서 override 하지못하도록 template method에 메서드를 final로 선언해도 된다.</li> <li>자식 클래스를 생성하고 abstract 메서드를 완성한다. 필요에 따라 Abstract 클래스에 구현된 메서드를 override해도 되고 hook 메서드를 override해도 된다.</li></ol> <h2 id="장단점">장단점</h2> <h3 id="장점">장점</h3> <ul><li>변경으로 인한 사이드이팩트를 최소화하며 커다란 알고리즘의 특정 부분을 override 할 수 있다.</li> <li>코드의 중복을 피할수 있다.</li></ul> <h3 id="딘점">딘점</h3> <ul><li>Client에 따라 알고리즘이 더 세분화되어 쪼개지길 원할 수 있다.</li> <li>알고리즘을 고정시켜놓아 Liskov Substitution Principle을 위반할수 있다.(이건 조 더 찾아봐야할듯..)</li> <li>알고리즘이 세세하게 쪼개지면 관리하기 힘들어진다.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.cbf5046c.js" defer></script><script src="/assets/js/2.2f398f54.js" defer></script><script src="/assets/js/68.be686ee3.js" defer></script>
  </body>
</html>
