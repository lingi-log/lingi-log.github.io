<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>8. 의존성 관리하기 | Lingi04</title>
    <meta name="description" content="개발 관련 이것 저것">
    
    
    <link rel="preload" href="/assets/css/0.styles.4b6fa609.css" as="style"><link rel="preload" href="/assets/js/app.40d6bd43.js" as="script"><link rel="preload" href="/assets/js/2.e419600a.js" as="script"><link rel="preload" href="/assets/js/81.7114c9f8.js" as="script"><link rel="prefetch" href="/assets/js/10.2659930a.js"><link rel="prefetch" href="/assets/js/11.83135f46.js"><link rel="prefetch" href="/assets/js/12.6db303cf.js"><link rel="prefetch" href="/assets/js/13.21a32bbb.js"><link rel="prefetch" href="/assets/js/14.67e29bf8.js"><link rel="prefetch" href="/assets/js/15.7bce78a4.js"><link rel="prefetch" href="/assets/js/16.7ed0a56d.js"><link rel="prefetch" href="/assets/js/17.b36f3e05.js"><link rel="prefetch" href="/assets/js/18.d2049b07.js"><link rel="prefetch" href="/assets/js/19.d0bfef8f.js"><link rel="prefetch" href="/assets/js/20.be2c8e5c.js"><link rel="prefetch" href="/assets/js/21.9fd2d792.js"><link rel="prefetch" href="/assets/js/22.3d92da2a.js"><link rel="prefetch" href="/assets/js/23.99e4b4d9.js"><link rel="prefetch" href="/assets/js/24.43eae32b.js"><link rel="prefetch" href="/assets/js/25.d130df9f.js"><link rel="prefetch" href="/assets/js/26.c294125c.js"><link rel="prefetch" href="/assets/js/27.e7136c01.js"><link rel="prefetch" href="/assets/js/28.c82c431c.js"><link rel="prefetch" href="/assets/js/29.e4c07586.js"><link rel="prefetch" href="/assets/js/3.4f1c787b.js"><link rel="prefetch" href="/assets/js/30.949eb54e.js"><link rel="prefetch" href="/assets/js/31.0f92a40c.js"><link rel="prefetch" href="/assets/js/32.0f2c7969.js"><link rel="prefetch" href="/assets/js/33.b3d6236e.js"><link rel="prefetch" href="/assets/js/34.5d067c1f.js"><link rel="prefetch" href="/assets/js/35.dbe87974.js"><link rel="prefetch" href="/assets/js/36.0eafc276.js"><link rel="prefetch" href="/assets/js/37.8e57f858.js"><link rel="prefetch" href="/assets/js/38.5021fc1e.js"><link rel="prefetch" href="/assets/js/39.a0325442.js"><link rel="prefetch" href="/assets/js/4.1ec3fc40.js"><link rel="prefetch" href="/assets/js/40.18742b17.js"><link rel="prefetch" href="/assets/js/41.6b0746d0.js"><link rel="prefetch" href="/assets/js/42.766ae6da.js"><link rel="prefetch" href="/assets/js/43.15df36ba.js"><link rel="prefetch" href="/assets/js/44.5dee1d40.js"><link rel="prefetch" href="/assets/js/45.bb9d83e5.js"><link rel="prefetch" href="/assets/js/46.3450f0b1.js"><link rel="prefetch" href="/assets/js/47.692665da.js"><link rel="prefetch" href="/assets/js/48.72d39ff9.js"><link rel="prefetch" href="/assets/js/49.d84df05c.js"><link rel="prefetch" href="/assets/js/5.78b02e55.js"><link rel="prefetch" href="/assets/js/50.dd16318b.js"><link rel="prefetch" href="/assets/js/51.1ffe25a8.js"><link rel="prefetch" href="/assets/js/52.3b538fc1.js"><link rel="prefetch" href="/assets/js/53.47772a67.js"><link rel="prefetch" href="/assets/js/54.bd39af74.js"><link rel="prefetch" href="/assets/js/55.5dcd3798.js"><link rel="prefetch" href="/assets/js/56.3001f847.js"><link rel="prefetch" href="/assets/js/57.e5fd26d7.js"><link rel="prefetch" href="/assets/js/58.917bf3ec.js"><link rel="prefetch" href="/assets/js/59.dd198e21.js"><link rel="prefetch" href="/assets/js/6.7fb74477.js"><link rel="prefetch" href="/assets/js/60.e5bd2ae8.js"><link rel="prefetch" href="/assets/js/61.07c843aa.js"><link rel="prefetch" href="/assets/js/62.76cd46c4.js"><link rel="prefetch" href="/assets/js/63.80b9b166.js"><link rel="prefetch" href="/assets/js/64.a6a2f2dd.js"><link rel="prefetch" href="/assets/js/65.2775d8e0.js"><link rel="prefetch" href="/assets/js/66.86364aa6.js"><link rel="prefetch" href="/assets/js/67.0ba69ccd.js"><link rel="prefetch" href="/assets/js/68.7a04bc14.js"><link rel="prefetch" href="/assets/js/69.56907b81.js"><link rel="prefetch" href="/assets/js/7.ee25bf2f.js"><link rel="prefetch" href="/assets/js/70.55fea518.js"><link rel="prefetch" href="/assets/js/71.364e52ae.js"><link rel="prefetch" href="/assets/js/72.b621a701.js"><link rel="prefetch" href="/assets/js/73.01568034.js"><link rel="prefetch" href="/assets/js/74.2f294f3c.js"><link rel="prefetch" href="/assets/js/75.b17d0609.js"><link rel="prefetch" href="/assets/js/76.a02fff3c.js"><link rel="prefetch" href="/assets/js/77.f2516a68.js"><link rel="prefetch" href="/assets/js/78.cd921d4e.js"><link rel="prefetch" href="/assets/js/79.eba3b2ac.js"><link rel="prefetch" href="/assets/js/8.20bc98a5.js"><link rel="prefetch" href="/assets/js/80.b0b2dcf1.js"><link rel="prefetch" href="/assets/js/82.a8fc9fdb.js"><link rel="prefetch" href="/assets/js/83.45d320f2.js"><link rel="prefetch" href="/assets/js/84.bd7c9ed8.js"><link rel="prefetch" href="/assets/js/85.4438f8a5.js"><link rel="prefetch" href="/assets/js/86.9b6d20be.js"><link rel="prefetch" href="/assets/js/87.28cb0e02.js"><link rel="prefetch" href="/assets/js/88.05ba3b73.js"><link rel="prefetch" href="/assets/js/9.64d4d7c9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4b6fa609.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/thumbnail.png" alt="Lingi04" class="logo"> <span class="site-name can-hide">Lingi04</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study/" class="nav-link router-link-active">Study</a></div><div class="nav-item"><a href="/backend/" class="nav-link">Backend</a></div><div class="nav-item"><a href="/programming/Immutable.html" class="nav-link">Programming</a></div><div class="nav-item"><a href="/experiences/" class="nav-link">Experiences</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study/" class="nav-link router-link-active">Study</a></div><div class="nav-item"><a href="/backend/" class="nav-link">Backend</a></div><div class="nav-item"><a href="/programming/Immutable.html" class="nav-link">Programming</a></div><div class="nav-item"><a href="/experiences/" class="nav-link">Experiences</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Design Pattern</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/designpattern/1_observer.html" class="sidebar-link">Observer Pattern</a></li><li><a href="/study/designpattern/2_proxy.html" class="sidebar-link">Proxy Pattern</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Algorithm</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Leet Code</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/algorithm/algorithm_leet_46-50.html" class="sidebar-link">46번 ~ 50번</a></li><li><a href="/study/algorithm/algorithm_leet_51-60.html" class="sidebar-link">51번 ~ 60번</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>책</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>오브젝트</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/book/object/2-객체지향프로그래밍.html" class="sidebar-link">2. 객체지향 프로그래밍</a></li><li><a href="/study/book/object/3-역할_책임_협력.html" class="sidebar-link">3. 역할, 책임, 협력</a></li><li><a href="/study/book/object/4-설계_품질과_트레이드오프.html" class="sidebar-link">4. 설계 품질과 트레이드오프</a></li><li><a href="/study/book/object/5-책임_할당하기.html" class="sidebar-link">5. 책임 할당하기</a></li><li><a href="/study/book/object/6-메시지와_인터페이스.html" class="sidebar-link">6. 메시지와 인터페이스</a></li><li><a href="/study/book/object/7-객체_분해.html" class="sidebar-link">7. 객체 분해</a></li><li><a href="/study/book/object/8-의존성_관리하기.html" class="active sidebar-link">8. 의존성 관리하기</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/book/object/8-의존성_관리하기.html#_01-의존성-이해하기" class="sidebar-link">01. 의존성 이해하기</a></li><li class="sidebar-sub-header"><a href="/study/book/object/8-의존성_관리하기.html#_02-유연한-설계" class="sidebar-link">02. 유연한 설계</a></li></ul></li><li><a href="/study/book/object/9-유연한_설계.html" class="sidebar-link">9. 유연한 설계</a></li><li><a href="/study/book/object/10-상속과_코드_재사용.html" class="sidebar-link">10. 상속과 코드 재사용</a></li><li><a href="/study/book/object/11-합성과_유연한_설계.html" class="sidebar-link">11. 합성과 유연한 설계</a></li><li><a href="/study/book/object/12-다형성.html" class="sidebar-link">12. 다형성</a></li><li><a href="/study/book/object/15-디자인_패턴과_프레임워크.html" class="sidebar-link">15. 디자인 패턴과 프레임워크</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>이펙티브자바</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/book/effectivejava/rule15.html" class="sidebar-link">클래스와 멤버의 접근 권한은 최소화하라.</a></li><li><a href="/study/book/effectivejava/rule16.html" class="sidebar-link">public 클래스 안에는 public 필드를 두지 말고 접근자 메서드를 사용하라.</a></li><li><a href="/study/book/effectivejava/rule18.html" class="sidebar-link">계승하는 대신 구성하라</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_8-의존성-관리하기">8. 의존성 관리하기</h1> <p>잘 설계된 객체지향 애플리케이션은 작고 응집도 높은 객체들로 구성된다. 작고 응집도 높은 객체란 책임의 초점이 명확하고 한가지 일만 잘 하는 객체를 의미한다. 이렇게 작고 응집도 높은 객체들은 여러 객체들과 협력 하며 애플리케이션의 기능을 구현하게 되는데, 이러한 협력으로 인해 객체들 간 의존성이 발생한다.</p> <h2 id="_01-의존성-이해하기">01. 의존성 이해하기</h2> <h3 id="변경과-의존성">변경과 의존성</h3> <p>어떤 객체가 협력하기 위해 다른 객체가 필요할 때 두 객체 사이에 의존성이 존재하게 된다. 두 요소 사이 의존성은 의존되는 요소가 변경될 때 의존하는 요소도 함께 변경될 수 있다는 것을 의미한다. 의존성은 실행시점과 구현시점에 따라 서로 다른 의미를 가진다.</p> <ul><li>실행 시점 : 의존하는 객체가 정상적으로 동작하기 위해서는 실행 시에 의존 대상 객체가 반드시 존재해야 한다.</li> <li>구현 시점 : 의존 대상 객체가 변경될 경우 의존하는 객체도 함깨 변경된다.</li></ul> <p>그림으로 의존성을 표현하면 아래와 같은데
<img src="https://raw.githubusercontent.com/lingi-log/lingi-log/master/assets/images/study/book/object/8-3.jpeg" alt="8-3"></p> <p>여기서 보면 PeriodCondition 클래스는 DiscountCondition, DayOfWeek, LocalTime, Screening에 의존성을 가지고 있다. 이 말은 DiscountCondition, DayOfWeek, LocalTime, Screening이 변경되면 그 영향으로 PeriodCondition도 변경될 수 있다는 말이다.</p> <h3 id="의존성-전이">의존성 전이</h3> <p>의존성 전이란 화살표로 연결된 모든 객체는 모두 의존성을 가지고 있다는 말이다. 의존성을 가지고 있다는 것은 함께 변경될 수 있는 가능성을 의미하는데 내부 구현을 효과적으로 캡슐화 했다면 변경이 전파되지 않을 수 있다.</p> <h3 id="런타임-의존성과-컴파일-의존성">런타임 의존성과 컴파일 의존성</h3> <ul><li>런타임 의존성 : 애플리케이션이 실행되는 시점. 객체 사이의 의존성을 말한다.</li> <li>컴파일타임 의존성 : 코드를 컴파일하는 시점(혹은 코드 그 자체). 클래스 사이의 의존성을 말한다.</li></ul> <p>유연하고 재사용 가능한 코드를 설계하기 위해서는 두 종류의 의존성을 다르게 만들어야 한다.</p> <p><img src="https://raw.githubusercontent.com/lingi-log/lingi-log/master/assets/images/study/book/object/8-5.jpeg" alt="그림8.5"></p> <p>위 그림은 컴파일 타임 의존성을 보여주고</p> <p><img src="https://raw.githubusercontent.com/lingi-log/lingi-log/master/assets/images/study/book/object/8-6.jpeg" alt="그림8.6"></p> <p>위 그림은 런타임 의존성을 보여준다.</p> <p>코드 작성 시점에 Movie클래스는 할인 정책을 구현한 두 클래스의 존재를 모르지만 실행 시점의 Movie 객체는 두 클랙스의 인스턴스와 협력할 수 있다. 유연하고 재사용 가능한 설계를 위해서는 이렇게 동일한 코드로 다양한 실행 구조를 만들 수 있어야 한다.</p> <h3 id="컨텍스트-독립성">컨텍스트 독립성</h3> <p>앞선 예와 달리 클래스가 자신과 협력할 구체적인 클래스를 알면 그 클래스는 자신이 사용되는 특정한 문맥에 강하게 결합되게 된다. 이럴 경우 이 클래스는 다른 문맥에서 사용되기 어려워 진다. 클래스가 자신이 사용될 문맥에 대해 최소한의 가정만 이루어져 있다면 다른 문맥에서 사용되기 더 수월해 지는데, 이를 컨텍스트 독립성이라 부른다.</p> <h3 id="의존성-해결하기">의존성 해결하기</h3> <p>컴파일 타임 의존성을 실행 컨텍스트에 맞게 적절한 런타임 의존성으로 교체하는 것을 <strong>의존성 해결</strong>이라고 부른다. 의존성 해결을 위해서는 일반적으로 다음과 같은 세 가지 방법을 사용한다.</p> <ul><li>객체를 생성하는 시점에 생성자를 통해 의존성 해결</li> <li>객체를 생성 후 setter 메서드를 통해 의존성 해결</li> <li>메서드 실행 시 인자를 이용해 의존성 해결</li></ul> <p>이 부분은 우리가 익히 알고있는 <strong>의존성 주입</strong>의 개념을 설명한 부분인것같다. 필요에 따라서 적절한 방법을 하나 혹은 하나 이상 선택해서 사용하면 될 것 같다.</p> <h2 id="_02-유연한-설계">02. 유연한 설계</h2> <p>의존성을 관리하는데 유용ㄹㅎ한 몇가지 원칙과 기법을 알아보자.</p> <h3 id="의존성과-결합도">의존성과 결합도</h3> <p>객체지향 패러다임의 근간은 협력!! 협력을 위해 객체는 서로의 존재와 수행 가능한 책임을 알아야 한다. 그리고 이런 지식들이 객체 사이의 의존성을 낳는다. 따라서 우리의 설계에 의존성이 생기는 것은 자연스러운 것이다.</p> <p>문제는 바람직하지 않은 의존성 이다.(책에선 바람직한 의존성을 다양한 환경에서 재사용될 수 있는 의존성이라 했다.) 가장 쉽게 들 수 있는 예는 앞서 살펴본 것 처럼 구체 클래스에 의존하는 경우이다. 이를 해결할 수 있는 방법은 추상클래스에 의존하게 하는 것이다. 추상클래스에 의존하도록 하여 재사용성을 높여 바람직한 의존성을 생성하도록 하자.</p> <p>바람직한 의존성과 바람직하지 않은 의존성을 가리키는 다른 말로 <strong>느슨한 결합도</strong>, <strong>약한 결합도</strong>와 <strong>단단한 결합도</strong>, <strong>강한 결합도</strong>가 있다.</p> <h3 id="지식이-결합을-낳는다">지식이 결합을 낳는다.</h3> <p>한 요소가 다른 요소에 대해 더 많이 알면 알수록 두 요소는 강하게 결합된다. 더 많이 알고있다 혹은 더 강하게 결합되어 있다는 것은 더 적은 컨텍스트에서 재사용 가능하다는 말이다. 우리가 잘 알고 있는 추상화를 통해 협력에 대해 최대한 감추며 결합도를 낮추어야 한다.</p> <h3 id="추상화에-의존하라">추상화에 의존하라</h3> <p>아래 목록에서 아래로 갈수록 결합도가 느슨해진다.</p> <ul><li>구체 클래스 의존성</li> <li>추상 클래스 의존성</li> <li>인터페이스 의존성</li></ul> <p>아래로 갈수록 외부로 공개된 정보가 적다는 사실을 같이 인지하면 좋을 것 같다. 의존하는 대상이 더 추상적일수록 결합도는 더 낮아진다.</p> <h3 id="명시적인-의존성">명시적인 의존성</h3> <p>명시적 의존성이란 모든 의존성이 퍼블릭 인터페이스에 공개되는 것을 말한다. 반대로 내부적으로 객체를 생성해 사용해 외부에서 의존성을 알지 못하는 경우를 숨겨진 의존성이라 한다.</p> <p>숨겨진 의존성은 의존성을 파악하기 위해 내부 구현을 직접 살펴봐야 한다.  커다란 클래스 안에 긴 메서드 내부 어딘가에서 인스턴스를 생성하는 코드를 파악하는 것은 어렵고 고통스러운 일이다. 더 큰 문제는 이 클래스를 다른 컨텍스트에서 재사용하기 위해선 내부 구현을 직접 변경해야 한다. 잠재적인 버그의 가능성을 내포하는 것이다!</p> <p>의존성을 결합도가 낮게, 명시적으로 생성한다면 런타임에 적절한 협력으로 의존성을 교체해주며 이런 문제들을 피할 수 있다.</p> <h3 id="new는-해롭다">new는 해롭다.</h3> <p>new를 잘못 사용하면 클래스 사이의 결합도가 극단적으로 높아진다. 이유는 크게 두 가지 이다.</p> <ul><li>new 연산자를 사용하기 위해선 구체클래스의 이름을 직접 기술해야 한다. 따라서 new를 사용하는 클라이언트는 추상화가 아닌 구체클래스에 의존할 수밖에 없기 때문에 결합도가 높아진다.</li> <li>new연산자는 생성하려는 구체 클래스뿐만 아니라 어떤 인자를 사용해 클래스의 생성자를 호출해야하는지도 알아야 한다. 따라서 new를 사용하면 클라이언트가 알아야 하는 지식의 양이 늘어나기 때문에 결합도가 높아진다.</li></ul> <p>객체는 어쩔 수 없이 생성해야 한다. 위 문제를 해결하기 위해서는 인스턴스를 생성하는 로직과 생성된 인스턴스를 사용하는 로직을 분리시키는 것이다. 외부에서 인스턴스를 전달받는 방법(의존성 주입)이 한가지 예이다.  이렇게 해서 인스턴스를 사용하는 쪽은 메시지 전송하는 로직만 남겨놓아야 한다.</p> <h3 id="가끔은-생성해도-무방하다">가끔은 생성해도 무방하다</h3> <p>클래스 안에서 객체의 인스턴스를 생성하는 방식이 유용한 경우도 있다. 주로 협력하는 기본객체를 설정하고 싶은 경우가 이 경우에 속한다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Movie</span><span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token keyword">private</span> <span class="token class-name">DiscountPolicy</span> discountPolicy<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Movie</span><span class="token punctuation">(</span><span class="token class-name">String</span> title<span class="token punctuation">,</span> <span class="token class-name">Duration</span> runningTime<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> runninngTime<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">AmountDiscountPolicy</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Movie</span><span class="token punctuation">(</span><span class="token class-name">String</span> title<span class="token punctuation">,</span> <span class="token class-name">Duration</span> runningTime<span class="token punctuation">,</span> <span class="token class-name">DiscountPolicy</span> discountPolicy<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>discountPolicy <span class="token operator">=</span> discountPolicy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>이렇게 생성자를 오버로딩 하여 안에서 다른 생성자를 호출하여 체이닝을 하거나</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Movie</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Money</span> <span class="token function">calculateMovieFee</span><span class="token punctuation">(</span><span class="token class-name">Screening</span> screening<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">calculateMovieFee</span><span class="token punctuation">(</span>screening<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">AmountDiscountPolicy</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Money</span> <span class="token function">calculateMovieFee</span><span class="token punctuation">(</span><span class="token class-name">Screening</span> screening<span class="token punctuation">,</span> <span class="token class-name">DiscountPolicy</span> discountPolicy<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> fee<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span>discountPolicy<span class="token punctuation">.</span><span class="token function">calculateDiscountAmount</span><span class="token punctuation">(</span>screening<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>이렇게 메서드를 오버로딩 하여 다른 메서드를 호출하여 체이닝하는 방법이 있다.</p> <p>이 예는 설계가 트레이드오프 활동이라는 사실을 다시 한번 상기시킨다.  여기서 트레이드오프의 대상은 결합도와 사용성이다. 구체클래스에 의존하더라도 사용성 더 중요하다면 결합도를 높ㅇ는 방향으로 코드를 작성할 수 있다. 물론 종종 모든 결합도가 모이는 새로운 클래스를 추가함으로서 사용ㅅㅇ과 유연성이라는 두 말 토끼를 잡을 수 있는 경우도있다.</p> <h3 id="표준-클래스에-대한-의존은-해롭지-않다">표준 클래스에 대한 의존은 해롭지 않다.</h3> <p>의존성이 불편한 이유는 그것이 항상 변경에 대한 영향을 암시하기 때문이다. 따라서 변경될 확률이 거의 없는 클래스라면 의존성이 문제가 되지 않는다. 하지만 이 경우에도 가능한 한 추상적인 타입을 사용하는 것이 확장성 측면에서 유리하다. 예를들어 인터페이스인 List를 사용한다면 선언되어 있는 객체를 다양한 List타입의 객체로 대체할 수 있어 설계의 유연성을 높일 수 있다.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/27/2020, 10:04:48 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/study/book/object/7-객체_분해.html" class="prev">7. 객체 분해</a></span> <span class="next"><a href="/study/book/object/9-유연한_설계.html">9. 유연한 설계</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.40d6bd43.js" defer></script><script src="/assets/js/2.e419600a.js" defer></script><script src="/assets/js/81.7114c9f8.js" defer></script>
  </body>
</html>
