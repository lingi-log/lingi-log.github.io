<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OAuth2 Grant Type | Lingi04</title>
    <meta name="description" content="개발 관련 이것 저것">
    
    
    <link rel="preload" href="/assets/css/0.styles.4b6fa609.css" as="style"><link rel="preload" href="/assets/js/app.968d4068.js" as="script"><link rel="preload" href="/assets/js/2.e419600a.js" as="script"><link rel="preload" href="/assets/js/18.c5513ed8.js" as="script"><link rel="prefetch" href="/assets/js/10.2d6dd5e3.js"><link rel="prefetch" href="/assets/js/100.51ca8b81.js"><link rel="prefetch" href="/assets/js/101.3eb424f8.js"><link rel="prefetch" href="/assets/js/102.c6cb0c1d.js"><link rel="prefetch" href="/assets/js/103.28c9471d.js"><link rel="prefetch" href="/assets/js/104.0969a21f.js"><link rel="prefetch" href="/assets/js/105.43f943c8.js"><link rel="prefetch" href="/assets/js/106.ba981bc7.js"><link rel="prefetch" href="/assets/js/107.834dc994.js"><link rel="prefetch" href="/assets/js/108.fb2c985e.js"><link rel="prefetch" href="/assets/js/11.88b01a58.js"><link rel="prefetch" href="/assets/js/12.5551473d.js"><link rel="prefetch" href="/assets/js/13.45dd4bc2.js"><link rel="prefetch" href="/assets/js/14.67e29bf8.js"><link rel="prefetch" href="/assets/js/15.4445c3a6.js"><link rel="prefetch" href="/assets/js/16.f6bafddf.js"><link rel="prefetch" href="/assets/js/17.72d85811.js"><link rel="prefetch" href="/assets/js/19.31adf5fd.js"><link rel="prefetch" href="/assets/js/20.ce7fc55d.js"><link rel="prefetch" href="/assets/js/21.9fd2d792.js"><link rel="prefetch" href="/assets/js/22.40121585.js"><link rel="prefetch" href="/assets/js/23.7b6084cc.js"><link rel="prefetch" href="/assets/js/24.4eaf9b2e.js"><link rel="prefetch" href="/assets/js/25.32c78728.js"><link rel="prefetch" href="/assets/js/26.1a814f94.js"><link rel="prefetch" href="/assets/js/27.246f3191.js"><link rel="prefetch" href="/assets/js/28.f5aa7be9.js"><link rel="prefetch" href="/assets/js/29.b93d7dcd.js"><link rel="prefetch" href="/assets/js/3.e1f5be75.js"><link rel="prefetch" href="/assets/js/30.b052cbc0.js"><link rel="prefetch" href="/assets/js/31.e2b9f133.js"><link rel="prefetch" href="/assets/js/32.e98e8e31.js"><link rel="prefetch" href="/assets/js/33.d6898684.js"><link rel="prefetch" href="/assets/js/34.cf7380db.js"><link rel="prefetch" href="/assets/js/35.15780e28.js"><link rel="prefetch" href="/assets/js/36.9e0f8ab5.js"><link rel="prefetch" href="/assets/js/37.90ce7b3c.js"><link rel="prefetch" href="/assets/js/38.f70e1b20.js"><link rel="prefetch" href="/assets/js/39.683079c5.js"><link rel="prefetch" href="/assets/js/4.e18ebf1a.js"><link rel="prefetch" href="/assets/js/40.ef32a3a8.js"><link rel="prefetch" href="/assets/js/41.8cea8f69.js"><link rel="prefetch" href="/assets/js/42.df076eea.js"><link rel="prefetch" href="/assets/js/43.7d3dc261.js"><link rel="prefetch" href="/assets/js/44.5ed8e795.js"><link rel="prefetch" href="/assets/js/45.54094204.js"><link rel="prefetch" href="/assets/js/46.172d6211.js"><link rel="prefetch" href="/assets/js/47.9ce2d6e9.js"><link rel="prefetch" href="/assets/js/48.26af26e2.js"><link rel="prefetch" href="/assets/js/49.784fdfba.js"><link rel="prefetch" href="/assets/js/5.fdb230f5.js"><link rel="prefetch" href="/assets/js/50.d16eff51.js"><link rel="prefetch" href="/assets/js/51.610c36df.js"><link rel="prefetch" href="/assets/js/52.83c29631.js"><link rel="prefetch" href="/assets/js/53.d989a20d.js"><link rel="prefetch" href="/assets/js/54.6a633402.js"><link rel="prefetch" href="/assets/js/55.5badc36d.js"><link rel="prefetch" href="/assets/js/56.57d5ace0.js"><link rel="prefetch" href="/assets/js/57.8e5cd012.js"><link rel="prefetch" href="/assets/js/58.e8f38d6c.js"><link rel="prefetch" href="/assets/js/59.bc71dc6a.js"><link rel="prefetch" href="/assets/js/6.7fb74477.js"><link rel="prefetch" href="/assets/js/60.8316c505.js"><link rel="prefetch" href="/assets/js/61.20724712.js"><link rel="prefetch" href="/assets/js/62.76cd46c4.js"><link rel="prefetch" href="/assets/js/63.39884fd2.js"><link rel="prefetch" href="/assets/js/64.f20d5782.js"><link rel="prefetch" href="/assets/js/65.a4fe4be1.js"><link rel="prefetch" href="/assets/js/66.168f9d74.js"><link rel="prefetch" href="/assets/js/67.a7c194ac.js"><link rel="prefetch" href="/assets/js/68.1fcf8167.js"><link rel="prefetch" href="/assets/js/69.3bbd8a13.js"><link rel="prefetch" href="/assets/js/7.ee25bf2f.js"><link rel="prefetch" href="/assets/js/70.d7f6ec2a.js"><link rel="prefetch" href="/assets/js/71.15ab3442.js"><link rel="prefetch" href="/assets/js/72.961a242b.js"><link rel="prefetch" href="/assets/js/73.bb0407ef.js"><link rel="prefetch" href="/assets/js/74.c0cad9aa.js"><link rel="prefetch" href="/assets/js/75.e1592924.js"><link rel="prefetch" href="/assets/js/76.ee9273ba.js"><link rel="prefetch" href="/assets/js/77.7cc9a13a.js"><link rel="prefetch" href="/assets/js/78.83b0f6c2.js"><link rel="prefetch" href="/assets/js/79.5efa5100.js"><link rel="prefetch" href="/assets/js/8.20bc98a5.js"><link rel="prefetch" href="/assets/js/80.deca5d67.js"><link rel="prefetch" href="/assets/js/81.46f5c2bf.js"><link rel="prefetch" href="/assets/js/82.5a6844c8.js"><link rel="prefetch" href="/assets/js/83.b898047a.js"><link rel="prefetch" href="/assets/js/84.79437512.js"><link rel="prefetch" href="/assets/js/85.daf0c959.js"><link rel="prefetch" href="/assets/js/86.26753c97.js"><link rel="prefetch" href="/assets/js/87.d3594f57.js"><link rel="prefetch" href="/assets/js/88.9e5b80b9.js"><link rel="prefetch" href="/assets/js/89.db490924.js"><link rel="prefetch" href="/assets/js/9.c29c567d.js"><link rel="prefetch" href="/assets/js/90.79f46a42.js"><link rel="prefetch" href="/assets/js/91.341d76bb.js"><link rel="prefetch" href="/assets/js/92.076157bc.js"><link rel="prefetch" href="/assets/js/93.303d7b63.js"><link rel="prefetch" href="/assets/js/94.0aac6b86.js"><link rel="prefetch" href="/assets/js/95.39a369e7.js"><link rel="prefetch" href="/assets/js/96.25c7e62b.js"><link rel="prefetch" href="/assets/js/97.860d9767.js"><link rel="prefetch" href="/assets/js/98.fa922bcd.js"><link rel="prefetch" href="/assets/js/99.aa9f82ec.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4b6fa609.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/thumbnail.png" alt="Lingi04" class="logo"> <span class="site-name can-hide">Lingi04</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study/" class="nav-link">Study</a></div><div class="nav-item"><a href="/backend/" class="nav-link router-link-active">Backend</a></div><div class="nav-item"><a href="/programming/Immutable.html" class="nav-link">Programming</a></div><div class="nav-item"><a href="/experiences/" class="nav-link">Experiences</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study/" class="nav-link">Study</a></div><div class="nav-item"><a href="/backend/" class="nav-link router-link-active">Backend</a></div><div class="nav-item"><a href="/programming/Immutable.html" class="nav-link">Programming</a></div><div class="nav-item"><a href="/experiences/" class="nav-link">Experiences</a></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Spring Boot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/backend/springboot/annotation.html" class="sidebar-link">Spring Boot Annotation 정리</a></li><li><a href="/backend/springboot/jpa.html" class="sidebar-link">JPA(Java Persistence API)</a></li><li><a href="/backend/springboot/pojo-javabeans-vo-dto.html" class="sidebar-link">POJO vs JAVA BEANS vs VO vs DTO</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Spring Security</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Elastic Search</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/backend/es/1_세팅.html" class="sidebar-link">Elasticsearch 세팅 정리</a></li><li><a href="/backend/es/2_매핑.html" class="sidebar-link">매핑</a></li><li><a href="/backend/es/4_DB와 비교.html" class="sidebar-link">RDB와 ElasticSearch의 관계</a></li><li><a href="/backend/es/5_성능최적화.html" class="sidebar-link">성능 최적화</a></li><li><a href="/backend/es/6_alias.html" class="sidebar-link">alias 설정</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>OAuth2</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/backend/oauth2/1_overview.html" class="sidebar-link">OAuth2 알아보기</a></li><li><a href="/backend/oauth2/2_grant_type.html" class="active sidebar-link">OAuth2 Grant Type</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/backend/oauth2/2_grant_type.html#authorization-code-grant-type" class="sidebar-link">Authorization Code Grant Type</a></li><li class="sidebar-sub-header"><a href="/backend/oauth2/2_grant_type.html#implicit-grant-type" class="sidebar-link">Implicit Grant Type</a></li><li class="sidebar-sub-header"><a href="/backend/oauth2/2_grant_type.html#resource-owner-password-credentials-grant-type" class="sidebar-link">Resource Owner Password Credentials Grant Type</a></li><li class="sidebar-sub-header"><a href="/backend/oauth2/2_grant_type.html#client-credentials-grant-type" class="sidebar-link">Client Credentials Grant Type</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="oauth2-grant-type">OAuth2 Grant Type</h1> <p>OAuth2의 Grant type은 'access token을 받는 방법' 정도로 정리할 수 있다.<br>
Grant type 4가지에 대해 정리해 보았고, 가장 많이 사용한다고 하는 <code>Authorization Code Grant Type</code>에 대해선 번역을 하면서 조금 자세하게 알아보았다. 이 페이지의 내용은 거의 <a href="https://tools.ietf.org/html/rfc6749#section-2.1" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/rfc6749<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 에서 가져왔다.<br>
이전 글에서 알아본 것 처럼 OAuth2의 Grant Type에는 네 가지가 있다.</p> <ul><li>Authorization Code Grant Type : 권한 부여 코드 승인 타입</li> <li>Implicit Grant Type : 암시적 승인</li> <li>Resource Owner Password Credentials Grant Type : 리소스 소유자 암호 자격 증명 타입</li> <li>Client Credentials Grant Type : 클라이언트 자격 증명 타입</li></ul> <h2 id="authorization-code-grant-type">Authorization Code Grant Type</h2> <p>Web이나 mobile apps에서 주로 사용하는 방식 이다.<br>
Access token과 Refresh token을 얻기 위한 방법. confidential clients에 최적화. 이는 redirection-based 흐름이므로 client는 resource owner의 user-agent(일반적으로 웹 브라우저) 와 상호 작용할 수 있어야 하며 authorization server 서버로부터 수신 요청을 수신할 수 있어야 한다.<br>
Authorization Server와 통신할 때, 아래와 같은 parameter가 사용된다.</p> <h3 id="파라미터">파라미터</h3> <ul><li>response_type=code : 사용할 Grant Type 종류를 의미하며, <code>code</code>는 Authorization Code Grant Type을 의미한다.</li> <li>client_id : client를 식별할 수 있는 id. github(Authorization Server)에 등록된 leetcode의 id</li> <li>redirect_uri : 인증 과정이 완료된 후 접근할 client의 uri</li> <li>scope : One or more space-separated strings indicating which permissions the application is requesting. The specific OAuth API you’re using will define the scopes that it supports.</li> <li>state - The application generates a random string and includes it in the request. It should then check that the same value is returned after the user authorizes the app. This is used to prevent CSRF attacks.</li></ul> <h3 id="흐름">흐름</h3> <p>Authorization Code Grant Type의 전체적 흐름은 아래와 같다.</p> <div class="language- extra-class"><pre class="language-text"><code>            +----------+
            | Resource |
            |   Owner  |
            |          |
            +----------+
                 ^
                 |
                (B)
            +----|-----+          Client Identifier      +---------------+
            |         -+----(A)-- &amp; Redirection URI ----&gt;|               |
            |  User-   |                                 | Authorization |
            |  Agent  -+----(B)-- User authenticates ---&gt;|     Server    |
            |          |                                 |               |
            |         -+----(C)-- Authorization Code ---&lt;|               |
            +-|----|---+                                 +---------------+
              |    |                                         ^      v
             (A)  (C)                                        |      |
              |    |                                         |      |
              ^    v                                         |      |
            +---------+                                      |      |
            |         |&gt;---(D)-- Authorization Code ---------'      |
            |  Client |          &amp; Redirection URI                  |
            |         |                                             |
            |         |&lt;---(E)----- Access Token -------------------'
            +---------+       (w/ Optional Refresh Token)
</code></pre></div><p>하나 하나 떼어 보자...</p> <h4 id="a">A.</h4> <div class="language- extra-class"><pre class="language-text"><code>            +----------+
            | Resource |
            |   Owner  |
            |          |
            +----------+



            +----------+          Client Identifier      +---------------+
            |         -+----(A)-- &amp; Redirection URI ----&gt;|               |
            |  User-   |                                 | Authorization |
            |  Agent   |                                 |     Server    |
            |          |                                 |               |
            |          |                                 |               |
            +-|--------+                                 +---------------+
              |    
             (A)   
              |    
              ^    
            +---------+
            |         |
            |  Client |
            |         |
            |         |
            +---------+
</code></pre></div><p>OAuth2 인증이 시작되는 단계로, Login Page에서 github 로그인을 선택한 단계에 해당한다. Client로 부터 Authorization Server로 접근할 수 있는 uri와 client_id, redirect_uri, response_type, scope, state를 같이 받아 redirect 시킨다.</p> <h4 id="b">B.</h4> <div class="language- extra-class"><pre class="language-text"><code>            +----------+
            | Resource |
            |   Owner  |
            |          |
            +----------+
                 ^
                 |
                (B)
            +----|-----+          Client Identifier      +---------------+
            |         -+----(A)-- &amp; Redirection URI ----&gt;|               |
            |  User-   |                                 | Authorization |
            |  Agent  -+----(B)-- User authenticates ---&gt;|     Server    |
            |          |                                 |               |
            |          |                                 |               |
            +-|--------+                                 +---------------+
              |    
             (A)   
              |    
              ^    
            +---------+
            |         |
            |  Client |
            |         |
            |         |
            +---------+
</code></pre></div><p>A의 과정을 통해 User Agent에는 Authorization Server의 login page가 떠있고, Authorization Server에 등록된 Resource Owner의 id, password를 사용하여 로그인 한다.</p> <h4 id="c">C.</h4> <div class="language- extra-class"><pre class="language-text"><code>            +----------+
            | Resource |
            |   Owner  |
            |          |
            +----------+
                 ^
                 |
                (B)
            +----|-----+          Client Identifier      +---------------+
            |         -+----(A)-- &amp; Redirection URI ----&gt;|               |
            |  User-   |                                 | Authorization |
            |  Agent  -+----(B)-- User authenticates ---&gt;|     Server    |
            |          |                                 |               |
            |         -+----(C)-- Authorization Code ---&lt;|               |
            +-|----|---+                                 +---------------+
              |    |   
             (A)  (C)  
              |    |   
              ^    v   
            +---------+
            |         |
            |  Client |
            |         |
            |         |
            +---------+
</code></pre></div><p>인증이 완료되면 Authorization Server는 User Agent로 Authorization Code를 전송하고, User Agent는 Client로 Authorization Code를 보낸다.</p> <h4 id="d">D.</h4> <div class="language- extra-class"><pre class="language-text"><code>            +----------+
            | Resource |
            |   Owner  |
            |          |
            +----------+
                 ^
                 |
                (B)
            +----|-----+          Client Identifier      +---------------+
            |         -+----(A)-- &amp; Redirection URI ----&gt;|               |
            |  User-   |                                 | Authorization |
            |  Agent  -+----(B)-- User authenticates ---&gt;|     Server    |
            |          |                                 |               |
            |         -+----(C)-- Authorization Code ---&lt;|               |
            +-|----|---+                                 +---------------+
              |    |                                         ^      
             (A)  (C)                                        |      
              |    |                                         |      
              ^    v                                         |      
            +---------+                                      |      
            |         |&gt;---(D)-- Authorization Code ---------'      
            |  Client |          &amp; Redirection URI                  
            |         |
            |         |
            +---------+
</code></pre></div><p>Client는 Authorization Code를 이용하여 Authorization Server에 Access Tokeen을 요청한다. 이 과정에서 Authorization Server는 Client의 정보를 저장한다.</p> <h4 id="e">E.</h4> <div class="language- extra-class"><pre class="language-text"><code>            +----------+
            | Resource |
            |   Owner  |
            |          |
            +----------+
                 ^
                 |
                (B)
            +----|-----+          Client Identifier      +---------------+
            |         -+----(A)-- &amp; Redirection URI ----&gt;|               |
            |  User-   |                                 | Authorization |
            |  Agent  -+----(B)-- User authenticates ---&gt;|     Server    |
            |          |                                 |               |
            |         -+----(C)-- Authorization Code ---&lt;|               |
            +-|----|---+                                 +---------------+
              |    |                                         ^      v
             (A)  (C)                                        |      |
              |    |                                         |      |
              ^    v                                         |      |
            +---------+                                      |      |
            |         |&gt;---(D)-- Authorization Code ---------'      |
            |  Client |          &amp; Redirection URI                  |
            |         |                                             |
            |         |&lt;---(E)----- Access Token -------------------'
            +---------+       (w/ Optional Refresh Token)
</code></pre></div><p>Authorization Server는 client를 인증학고, Auth Code를 인증한다. 지금 받은 uri와 C에서 받은 uri가 같은 지 확인하고, 같으면 Access Token과 Refresh Token(optional)을 내려준다.</p> <h2 id="implicit-grant-type">Implicit Grant Type</h2> <p>권한 부여 코드 승인 타입과 다르게 권한 코드 교환 단계 없이 엑세스 토큰을 즉시 반환받아 이를 인증에 이용하는 방식이다. 그리고 이 특정 Redirection URI를 운영한다고 알려진 공공 Client에 최적화 된다(optimized for public clients known to operate a particular redirection URI). 여기서 Client는, Javascript와 같은 scripting 언어를 사용하여 browser에서 구현된다. <br>
앞선 타입과 같이 redirection-based flow 이다.<br>
Unlike the authorization code grant type, in which the client makes separate requests for authorization and for an access token, the client receives the access token as the result of the authorization request.<br>
The implicit grant type does not include client authentication, and relies on the presence of the resource owner and the registration of the redirection URI.  Because the access token is encoded into the redirection URI, it may be exposed to the resource owner and other applications residing on the same device.</p> <div class="language- extra-class"><pre class="language-text"><code>            +----------+
            | Resource |
            |  Owner   |
            |          |
            +----------+
                 ^
                 |
                (B)
            +----|-----+          Client Identifier     +---------------+
            |         -+----(A)-- &amp; Redirection URI ---&gt;|               |
            |  User-   |                                | Authorization |
            |  Agent  -|----(B)-- User authenticates --&gt;|     Server    |
            |          |                                |               |
            |          |&lt;---(C)--- Redirection URI ----&lt;|               |
            |          |          with Access Token     +---------------+
            |          |            in Fragment
            |          |                                +---------------+
            |          |----(D)--- Redirection URI ----&gt;|   Web-Hosted  |
            |          |          without Fragment      |     Client    |
            |          |                                |    Resource   |
            |     (F)  |&lt;---(E)------- Script ---------&lt;|               |
            |          |                                +---------------+
            +-|--------+
              |    |
             (A)  (G) Access Token
              |    |
              ^    v
            +---------+
            |         |
            |  Client |
            |         |
            +---------+
</code></pre></div><ol><li>The client initiates the flow by directing the resource owner's user-agent to the authorization endpoint.  The client includes its client identifier, requested scope, local state, and a redirection URI to which the authorization server will send the user-agent back once access is granted (or denied).</li> <li>The authorization server authenticates the resource owner (via the user-agent) and establishes whether the resource owner grants or denies the client's access request.</li> <li>Assuming the resource owner grants access, the authorization server redirects the user-agent back to the client using the redirection URI provided earlier.  The redirection URI includes the access token in the URI fragment.</li> <li>The user-agent follows the redirection instructions by making a request to the web-hosted client resource (which does not include the fragment per [RFC2616]).  The user-agent retains the fragment information locally.</li> <li>The web-hosted client resource returns a web page (typically an HTML document with an embedded script) capable of accessing the full redirection URI including the fragment retained by the user-agent, and extracting the access token (and other parameters) contained in the fragment.</li> <li>The user-agent executes the script provided by the web-hosted client resource locally, which extracts the access token.</li> <li>The user-agent passes the access token to the client.</li></ol> <h2 id="resource-owner-password-credentials-grant-type">Resource Owner Password Credentials Grant Type</h2> <p>클라이언트가 암호를 사용하여 엑세스 토큰에 대한 사용자의 자격 증명을 교환하는 때입니다.
With the resource owner password credentials grant type, the user provides their service credentials (username and password) directly to the application, which uses the credentials to obtain an access token from the service. This grant type should only be enabled on the authorization server if other flows are not viable. Also, it should only be used if the application is trusted by the user (e.g. it is owned by the service, or the user’s desktop OS).</p> <div class="language- extra-class"><pre class="language-text"><code>            +----------+
            | Resource |
            |  Owner   |
            |          |
            +----------+
                v
                |    Resource Owner
               (A) Password Credentials
                |
                v
            +---------+                                  +---------------+
            |         |&gt;--(B)---- Resource Owner -------&gt;|               |
            |         |         Password Credentials     | Authorization |
            | Client  |                                  |     Server    |
            |         |&lt;--(C)---- Access Token ---------&lt;|               |
            |         |    (w/ Optional Refresh Token)   |               |
            +---------+                                  +---------------+
</code></pre></div><p>Password Credentials Flow</p> <ul><li>After the user gives their credentials to the application, the application will then request an access token from the authorization server. The POST request might look something like this:</li></ul> <p>https://oauth.example.com/token?grant_type=password&amp;username=USERNAME&amp;password=PASSWORD&amp;client_id=CLIENT_ID
If the user credentials check out, the authorization server returns an access token to the application. Now the application is authorized!</p> <p><strong>Note</strong>: DigitalOcean does not currently support the password credentials grant type, so the link points to an imaginary authorization server at “oauth.example.com”.</p> <h2 id="client-credentials-grant-type">Client Credentials Grant Type</h2> <p>클라이언트가 컨텍스트 외부에서 액세스 토큰을 얻어 특정 리소스에 접근을 요청할 때 사용하는 방식입니다.
The client credentials grant type provides an application a way to access its own service account. Examples of when this might be useful include if an application wants to update its registered description or redirect URI, or access other data stored in its service account via the API.</p> <div class="language- extra-class"><pre class="language-text"><code>            +---------+                                  +---------------+
            |         |                                  |               |
            |         |&gt;--(A)- Client Authentication ---&gt;| Authorization |
            | Client  |                                  |     Server    |
            |         |&lt;--(B)---- Access Token ---------&lt;|               |
            |         |                                  |               |
            +---------+                                  +---------------+
</code></pre></div><p>Client Credentials Flow
The application requests an access token by sending its credentials, its client ID and client secret, to the authorization server. An example POST request might look like the following:</p> <p>https://oauth.example.com/token?grant_type=client_credentials&amp;client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET
If the application credentials check out, the authorization server returns an access token to the application. Now the application is authorized to use its own account!</p> <p>Note: DigitalOcean does not currently support the client credentials grant type, so the link points to an imaginary authorization server at “oauth.example.com”.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/21/2019, 11:04:10 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/backend/oauth2/1_overview.html" class="prev">OAuth2 알아보기</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.968d4068.js" defer></script><script src="/assets/js/2.e419600a.js" defer></script><script src="/assets/js/18.c5513ed8.js" defer></script>
  </body>
</html>
